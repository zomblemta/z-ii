{{ 'swiper-bundle.min.css' | asset_url | stylesheet_tag }}
{%- comment -%} {{ 'hero-banner-swiper.css' | asset_url | stylesheet_tag }} {%- endcomment -%}
<style>
  .hero-swiper-wrapper,
  .hero-banner-wrapper {
    height: calc(100vh - 136px);
  }

  @media (max-width: 768px) {
    .hero-swiper-wrapper,
    .swiper-slide {
      height: calc(100vh - 410px) !important;
    }

    .hero-banner-wrapper {
      height: 100%;
    }
  }

  /* 分页器容器位置 */
  .swiper-pagination {
    bottom: 20px !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    width: auto !important;
    text-align: left !important;
    height: 10px !important;
    display: flex;
  }

  /* 分页器小圆点样式 */
  .swiper-pagination-bullet {
    width: 6px !important;
    height: 6px !important;
    background-color: rgba(255, 255, 255, 0.6) !important;
    opacity: 1 !important;
    border-radius: 3px !important;
    transition: width 0.3s ease !important;
  }

  /* 激活状态的小圆点 */
  .swiper-pagination-bullet-active {
    width: 50px !important;
    background-color: rgba(255, 255, 255, 0.6) !important;
  }

  @media (min-width: 768px) {
    .hero-banner-container {
      height: 100%;
    }
    .hero-content {
      height: 100%;
    }
  }

  /* PC端轮播图左右区域光标样式 */
  @media (min-width: 1024px) {
    .hero-swiper-wrapper {
      position: relative;
    }
  }
</style>

<section
  id="HeroBanner-{{ section.id }}"
  class="hero-banner-section "
>
  <div class="hero-banner-wrapper flex flex-col md:flex-row">
    <div class="hero-banner-container flex flex-col lg:flex-row items-center  w-full ">
      <!-- 左侧内容区 -->
      <div
        style="background-color: {{ section.settings.section_background_color }};"
        class="hero-content shrink-0 md:max-h-full w-1/2 h-full flex justify-center items-center order-2 md:order-1  py-[40px] lg:p-0  "
      >
        <div class="content-wrapper w-max-content text-center md:text-left  flex justify-center items-center">
          <div class="flex flex-col  text-center  items-center gap-[16px] px-[26px] md:gap-[60px]  w-full justify-center ">
            <h1 class="text-[30px]   text-nowrap md:text-wrap leading-[28px] md:leading-[64px] font-Montaga md:text-[64px] text-white   md:mx-0 ">
              {{ section.settings.title | default: 'Fabrics and Technology' }}
            </h1>
            <p class="text-white  text-base font-light w-full ">
              {{ section.settings.description | default: 'The fabrics and technology we can offer.' }}
            </p>
          </div>
        </div>
      </div>

      <!-- 右侧轮播区 -->
      <div class="hero-swiper-wrapper w-full h-[142px] md:h-full md:w-1/2 order-1 md:order-2 ">
        <div class="swiper heroSwiper-{{ section.id }} overflow-hidden h-full">
          <div class="swiper-wrapper h-full">
            {%- for block in section.blocks -%}
              {%- if block.type == 'slide' -%}
                <div class="swiper-slide" {{ block.shopify_attributes }}>
                  {%- if block.settings.image != blank -%}
                    {% assign jump_to = block.settings.jump_to %}
                    <a href="{% if jump_to == 'fabric' %}#fabric{% else %}#technology{% endif %}">
                      <div class="relative h-full w-full">
                        {{
                          block.settings.image
                          | image_url: width: 1200
                          | image_tag:
                            loading: 'eager',
                            class: 'w-full h-full object-cover',
                            alt: block.settings.image.alt
                          | escape
                        }}
                      </div>
                    </a>
                  {%- endif -%}
                </div>
              {%- endif -%}
            {%- endfor -%}
          </div>

          <!-- 分页器 -->
          <div class="swiper-pagination "></div>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="{{ 'swiper-bundle.min.js' | asset_url }}" defer="defer"></script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper('.heroSwiper-{{ section.id }}', {
      loop: true,
      autoplay: true
        ? {
            delay: 3000,
            disableOnInteraction: false,
          }
        : false,
      speed: 1000,
      // effect: 'fade',
      fadeEffect: {
        crossFade: true,
      },

      pagination: {
        el: '.heroSwiper-{{ section.id }} .swiper-pagination',
        clickable: true,
      },
    });
  });
</script>

{% schema %}
{
  "name": "Fabrics Technology Banner",
  "tag": "section",
  "class": "section hero-banner-section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "color",
      "id": "section_background_color",
      "label": "背景颜色",
      "default": "#000"
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "轮播图片",
      "limit": 4,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "图片"
        },
        {
          "type": "select",
          "id": "jump_to",
          "label": "跳转链接",
          "options": [
            {
              "value": "fabric",
              "label": "fabric"
            },
            {
              "value": "technology",
              "label": "technology"
            }
          ]
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "fabric technology Banner",
      "blocks": [
        {
          "type": "slide"
        },
        {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}
