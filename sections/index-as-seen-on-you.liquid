<style>
  #asSeenOnYouSection-{{ section.id }} .image-container {
    position: relative;
    cursor: none;
  }

  .rotating-cursor {
    position: fixed;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background-color: rgb(255, 255, 255);
    color: black;
    transform-origin: 0 0;
    transform: rotate(-15deg) translate(-50%, -50%);
    text-transform: uppercase;
  }

  .rotating-cursor::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border: 2px dashed black;
    border-radius: 50%;
    animation: rotate-border 8s linear infinite;
  }

  .rotating-cursor.active {
    opacity: 1 !important;
  }

  .rotating-cursor span {
    font-size: 14px;
    text-align: center;
    position: relative;
    z-index: 1;
  }

  @keyframes rotate-border {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>

<div class="bg-[#282828] relative w-full  py-[28px] md:pt-[70px] flex flex-col gap-5" id="asSeenOnYouSection-{{ section.id }}">
  <div class="w-full text-center sticky top-[40px] md:top-[70px] z-1">
    <h2 class="text-white text-[28px] font-medium  tracking-[2.8px] uppercase">as seen on you</h2>
    <p class="text-white text-base font-light  tracking-[1.6px] mt-[6px]">Our products in real life.</p>
  </div>
  <div class="md:hidden w-full flex px-[14px] flex-col z-10 gap-[30px]">
    <div class="w-full flex justify-start">
      <div class="w-[240px] h-[320px] rounded-[5px] overflow-hidden relative">
        <p class="text-white text-base absolute bottom-10 left-0 w-full text-center px-[14px]">
          {{ section.settings.description_1 }}
        </p>
        {% render 'alp-responsive-image', image: section.settings.image_1 %}
      </div>
    </div>

    <div class="w-full flex justify-end">
      <div class="w-[240px] h-[320px] rounded-[5px] overflow-hidden relative">
        <p class="text-white text-base absolute bottom-10 left-0 w-full text-center px-[14px]">
          {{ section.settings.description_2 }}
        </p>
        {% render 'alp-responsive-image', image: section.settings.image_2 %}
      </div>
    </div>

    <div class="w-full flex justify-start">
      <div class="w-[240px] h-[320px] rounded-[5px] overflow-hidden relative">
        <p class="text-white text-base absolute bottom-10 left-0 w-full text-center px-[14px]">
          {{ section.settings.description_3 }}
        </p>
        {% render 'alp-responsive-image', image: section.settings.image_3 %}
      </div>
    </div>

    <div class="w-full flex justify-end">
      <div class="w-[240px] h-[320px] rounded-[5px] overflow-hidden relative">
        <p class="text-white text-base absolute bottom-10 left-0 w-full text-center px-[14px]">
          {{ section.settings.description_4 }}
        </p>
        {% render 'alp-responsive-image', image: section.settings.image_4 %}
      </div>
    </div>
  </div>

  <div class="hidden md:grid grid-cols-12  gap-12 h-full  mx-[80px] -mt-[30px] z-10   relative">
    <div class=" col-span-3 relative">
      <div class="relative  rounded-[5px] image-container overflow-hidden">
        <p class="text-white text-base absolute bottom-10 left-0 w-full text-center">
          {{ section.settings.description_1 }}
        </p>
        {% render 'alp-responsive-image', image: section.settings.image_1 %}
      </div>
    </div>
    <div class=" col-start-4 relative col-end-7 mt-96">
      <div class="relative  rounded-[5px] image-container overflow-hidden">
        <p class="text-white text-base absolute bottom-10 left-0 w-full text-center">
          {{ section.settings.description_2 }}
        </p>
        {% render 'alp-responsive-image', image: section.settings.image_2 %}
      </div>
    </div>
    <div class="col-start-8 relative col-end-11 mt-28">
      <div class="relative  rounded-[5px] image-container overflow-hidden">
        <p class="text-white text-base absolute bottom-10 left-0 w-full text-center">
          {{ section.settings.description_3 }}
        </p>
        {% render 'alp-responsive-image', image: section.settings.image_3 %}
      </div>
    </div>
    <div class="col-start-2  relative col-end-5  mt-40 ">
      <div class="relative  rounded-[5px] image-container overflow-hidden">
        <p class="text-white text-base absolute bottom-10 left-0 w-full text-center">
          {{ section.settings.description_4 }}
        </p>
        {% render 'alp-responsive-image', image: section.settings.image_4 %}
      </div>
    </div>
  </div>
</div>

<!-- 旋转光标 - 放在最外层 -->
<div class="rotating-cursor" id="rotatingCursor-{{ section.id }}">
  <span
    >read<br>
    more</span
  >
</div>

<script>
  (function() {
    // 使用立即执行函数限制作用域
    const sectionId = 'asSeenOnYouSection-{{ section.id }}';
    const section = document.getElementById(sectionId);
    
    if (!section) {
      console.error('Section not found:', sectionId);
      return;
    }
    
    const cursor = document.getElementById('rotatingCursor-{{ section.id }}');
    
    if (!cursor) {
      console.error('Cursor element not found');
      return;
    }
    
    // 只选择当前section内的图片容器
    const imageContainers = section.querySelectorAll('.image-container');
    
    console.log('Found', imageContainers.length, 'image containers in As Seen On You section');
    
    if (imageContainers.length === 0) {
      return;
    }
    
    imageContainers.forEach(function(container) {
      container.addEventListener('mouseenter', function() {
        cursor.classList.add('active');
        cursor.style.opacity = '1';
      });
      
      container.addEventListener('mouseleave', function() {
        cursor.classList.remove('active');
        cursor.style.opacity = '0';
      });
      
      container.addEventListener('mousemove', function(e) {
        cursor.style.left = e.clientX + 'px';
        cursor.style.top = e.clientY + 'px';
      });
    });
  })();
</script>

{% schema %}
{
  "name": "Index As Seen On You",
  "settings": [
    {
      "type": "image_picker",
      "id": "image_1",
      "label": "Image 1"
    },
    {
      "type": "text",
      "id": "description_1",
      "label": "Description 1"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "Image 2"
    },
    {
      "type": "text",
      "id": "description_2",
      "label": "Description 2"
    },
    {
      "type": "image_picker",
      "id": "image_3",
      "label": "Image 3"
    },
    {
      "type": "text",
      "id": "description_3",
      "label": "Description 3"
    },
    {
      "type": "image_picker",
      "id": "image_4",
      "label": "Image 4"
    },
    {
      "type": "text",
      "id": "description_4",
      "label": "Description 4"
    }
  ],

  "presets": [
    {
      "name": "As Seen On You"
    }
  ]
}
{% endschema %}
