{{ 'swiper-bundle.min.css' | asset_url | stylesheet_tag }}
{%- comment -%} {{ 'hero-banner-swiper.css' | asset_url | stylesheet_tag }} {%- endcomment -%}
<style>
  .hero-swiper-wrapper,
  .hero-banner-wrapper {
    height: calc(100vh - 142px);
  }

  @media (max-width: 768px) {
    .hero-swiper-wrapper,
    .swiper-slide {
      height: calc(100vh - 279px)!important;
    }

  .hero-banner-wrapper {
    height: 100%;
  }
  }
  
  /* 分页器容器位置 */
  .swiper-pagination {
    bottom: 20px !important;
    left: 20px !important;
    width: auto !important;
    text-align: left !important;
    height: 10px!important;
    display: flex;
  }
  
  /* 分页器小圆点样式 */
  .swiper-pagination-bullet {
    width: 6px !important;
    height: 6px !important;
    background-color: rgba(255, 255, 255, 0.60) !important;
    opacity: 1 !important;
    border-radius: 3px !important;
    transition: width 0.3s ease !important;
  }
  
  /* 激活状态的小圆点 */
  .swiper-pagination-bullet-active {
    width: 30px !important;
    background-color: rgba(255, 255, 255, 0.60) !important;
  }

  @media (min-width: 1024px) {
    .hero-banner-container {
      height: 100%;
    }
    .hero-content {
      height: 100%;
    }
  }
</style>

<section
  id="HeroBanner-{{ section.id }}"
  class="hero-banner-section "
>
  <div class="hero-banner-wrapper">
    <div class="hero-banner-container flex flex-col lg:flex-row items-center  ">
      <!-- 左侧内容区 -->
      <div class="hero-content max-h-[178px] md:max-h-full w-full h-full bg-[#333] flex justify-center items-center  py-[30px] lg:p-0 md:w-1/2  ">
        <div class="content-wrapper max-w-xl mx-auto lg:mx-0 text-center lg:text-left">
          <div class="flex flex-col  gap-[30px]  md:gap-[60px]">
            <h1 class="text-[32px] leading-[28px] md:leading-[64px] font-Montaga md:text-[64px] text-white text-left  px-[26px] md:px-0 ">
              {{ section.settings.title | default: '“ Studio Precision for Strong Labels. ”' }}
            </h1>

            <div class="flex gap-[24px] w-full justify-center items-center">
              <a
                href="{{ section.settings.shop_now_link }}"
                class="text-white text-xs md:text-xl tracking-[1.2px] md:tracking-[2px] bg-black py-[8px] px-[17px] md:py-[12px] md:px-[20px] uppercase rounded-[5px]"
              >
                Shop Now
              </a>
              <a
                href="{{ section.settings.talk_to_our_team_link }}"
                class="text-black text-xs md:text-xl tracking-[1.2px] md:tracking-[2px] bg-white py-[8px] px-[17px] md:py-[12px] md:px-[20px] uppercase rounded-[5px]"
              >
                Talk to our team
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- 右侧轮播区 -->
      <div class="hero-swiper-wrapper w-full h-full lg:w-1/2  ">
        <div class="swiper heroSwiper-{{ section.id }} overflow-hidden h-full">
          <div class="swiper-wrapper h-full">
            {%- for block in section.blocks -%}
              {%- if block.type == 'slide' -%}
                <div class="swiper-slide" {{ block.shopify_attributes }}>
                  {%- if block.settings.image != blank -%}
                    <div class=" relative h-full w-full">
                      {{
                        block.settings.image
                        | image_url: width: 1200
                        | image_tag:
                          loading: 'eager',
                          class: 'w-full h-full object-cover',
                          alt: block.settings.image.alt
                        | escape
                      }}
                    </div>
                    <div class="absolute left-[20px] bottom-[44px] md:bottom-[70px] flex flex-col justify-center items-center">
                      <h2 class="text-white text-sm tracking-[1.4px] font-light md:text-2xl md:tracking-[2px]">
                        {{ block.settings.title }}
                      </h2>
                    </div>
                  {%- endif -%}
                </div>
              {%- endif -%}
            {%- endfor -%}
          </div>

          <!-- 分页器 -->
            <div class="swiper-pagination "></div>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="{{ 'swiper-bundle.min.js' | asset_url }}" defer="defer"></script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper('.heroSwiper-{{ section.id }}', {
      loop: true,
      autoplay: true
        ? {
            delay: 3000,
            disableOnInteraction: false,
          }
        : false,
      speed: 1000,
      // effect: 'fade',
      fadeEffect: {
        crossFade: true,
      },

      pagination: {
        el: '.heroSwiper-{{ section.id }} .swiper-pagination',
        clickable: true,
      },
    });
  });
</script>

{% schema %}
{
  "name": "首页轮播Banner",
  "tag": "section",
  "class": "section hero-banner-section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [],
  "blocks": [
    {
      "type": "slide",
      "name": "轮播图片",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "图片"
        },
        {
          "type": "html",
          "id": "title",
          "label": "标题"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "首页轮播Banner",
      "blocks": [
        {
          "type": "slide"
        },
        {
          "type": "slide"
        },
        {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}
