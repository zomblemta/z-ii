{{ 'swiper-bundle.min.css' | asset_url | stylesheet_tag }}
{%- comment -%} {{ 'hero-banner-swiper.css' | asset_url | stylesheet_tag }} {%- endcomment -%}
<style>
  .hero-swiper-wrapper,
  .hero-banner-wrapper {
    height: calc(100vh - 232px);
  }

 
  @media (max-width: 768px) {

    .hero-swiper-wrapper,
    .swiper-slide {
      height: calc(100vh - 430px)!important;
    }

  .hero-banner-wrapper {
    height: 100%;
  }
  }
  
  /* 分页器容器位置 */
  .swiper-pagination {
    bottom: 20px !important;
    left: 20px !important;
    width: auto !important;
    text-align: left !important;
    height: 10px!important;
    display: flex;
  }
  
  /* 分页器小圆点样式 */
  .swiper-pagination-bullet {
    width: 6px !important;
    height: 6px !important;
    background-color: rgba(255, 255, 255, 0.60) !important;
    opacity: 1 !important;
    border-radius: 3px !important;
    transition: width 0.3s ease !important;
  }
  
  /* 激活状态的小圆点 */
  .swiper-pagination-bullet-active {
    width: 30px !important;
    background-color: rgba(255, 255, 255, 0.60) !important;
  }

  @media (min-width: 768px) {
    .hero-banner-container {
      height: 100%;
    }
    .hero-content {
      height: 100%;
    }
  }

  /* 动态生成每个 block 的标题和描述样式 */
  {%- for block in section.blocks -%}
    {%- if block.type == 'slide' -%}
      /* Block {{ block.id }} - 移动端样式 */
      .hero-title-{{ block.id }} {
        font-size: {{ block.settings.mobile_title_text_size }}px;
        color: {{ block.settings.title_color }};
      }
      
      .hero-description-{{ block.id }} {
        font-size: {{ block.settings.mobile_description_text_size }}px;
        color: {{ block.settings.description_color }};
      }
      
      /* Block {{ block.id }} - PC端样式 */
      @media (min-width: 768px) {
        .hero-title-{{ block.id }} {
          font-size: {{ block.settings.title_text_size }}px;
        }
        
        .hero-description-{{ block.id }} {
          font-size: {{ block.settings.description_text_size }}px;
        }
      }
    {%- endif -%}
  {%- endfor -%}

  /* PC端轮播图左右区域光标样式 */
  @media (min-width: 1024px) {
    .hero-swiper-wrapper {
      position: relative;
    }

    .swiper-nav-area {
      position: absolute;
      top: 0;
      width: 50%;
      height: 100%;
      z-index: 10;
      cursor: pointer;
    }

    .swiper-nav-area.nav-left {
      left: 0;
      cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="18" fill="rgba(0,0,0,0.5)" stroke="white" stroke-width="1"/><path d="M24 12 L16 20 L24 28" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>') 20 20, w-resize;
    }

    .swiper-nav-area.nav-right {
      right: 0;
      cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="18" fill="rgba(0,0,0,0.5)" stroke="white" stroke-width="1"/><path d="M16 12 L24 20 L16 28" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>') 20 20, e-resize;
    }
  }
</style>

<section
  id="HeroBanner-{{ section.id }}"
  class="hero-banner-section "
>
  <div class="hero-banner-wrapper">
    <div class="hero-banner-container flex flex-col lg:flex-row items-center  ">
      <!-- 左侧内容区 -->
      <div style="background-color: {{ section.settings.section_background_color }};" class="hero-content md:max-h-full w-full h-full flex justify-center items-center  py-[40px] lg:p-0 lg:w-1/2  ">
        <div class="content-wrapper max-w-xl mx-auto lg:mx-0 text-center lg:text-left">
          <div class="flex flex-col  gap-[30px]  md:gap-[60px]">
            <h1 class="text-[32px] leading-[28px] md:leading-[64px] font-Montaga md:text-[64px] text-white text-left  px-[26px] md:px-0 ">
              {{ section.settings.title  }}
            </h1>

            <div class="flex gap-[24px] w-full justify-start items-center mt-[30px] md:mt-0 px-[26px] md:px-0">
              <a
                href="{{ section.settings.shop_now_link }}"
                class="text-white text-xs md:text-xl tracking-[1.2px] text-nowrap md:tracking-[2px] bg-black py-[8px] px-[16px] md:py-[12px] md:px-[20px]  border border-black rounded-[5px] hover:bg-white hover:text-black"
              >
                Shop all products
              </a>
              <a
                href="{{ section.settings.talk_to_our_team_link }}"
                class="text-black text-xs md:text-xl tracking-[1.2px] text-nowrap md:tracking-[2px] bg-white py-[8px] px-[16px] md:py-[12px] md:px-[20px]  border border-white rounded-[5px] hover:border-black"
              >
                Talk to our team
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- 右侧轮播区 -->
      <div class="hero-swiper-wrapper w-full h-[142px] md:h-full lg:w-1/2  ">
        <div class="swiper heroSwiper-{{ section.id }} overflow-hidden h-full">
          <div class="swiper-wrapper h-full">
            {%- for block in section.blocks -%}
              {%- if block.type == 'slide' -%}
                <div class="swiper-slide" {{ block.shopify_attributes }}>
                  {%- if block.settings.image != blank -%}
                    <div class=" relative h-full w-full">
                      {{
                        block.settings.image
                        | image_url: width: 1200
                        | image_tag:
                          loading: 'eager',
                          class: 'w-full h-full object-cover',
                          alt: block.settings.image.alt
                        | escape
                      }}
                    </div>
                    <div class="absolute left-[20px] bottom-[44px] md:bottom-[70px] flex flex-col justify-center items-start">
                      <h2 class="hero-banner-title hero-title-{{ block.id }} tracking-[1.4px] font-light md:tracking-[2px]">
                        {{ block.settings.title }}
                      </h2>
                      <p class="hero-banner-description hero-description-{{ block.id }} tracking-[1.4px] font-light md:tracking-[2px]">
                        {{ block.settings.description }}
                      </p>
                    </div>
                  {%- endif -%}
                </div>
              {%- endif -%}
            {%- endfor -%}
          </div>

          <!-- 分页器 -->
            <div class="swiper-pagination "></div>
        </div>
        
        <!-- PC端导航区域 -->
        <div class="swiper-nav-area nav-left hidden lg:block" data-nav="prev"></div>
        <div class="swiper-nav-area nav-right hidden lg:block" data-nav="next"></div>
      </div>
    </div>
  </div>
</section>

<script src="{{ 'swiper-bundle.min.js' | asset_url }}" defer="defer"></script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper('.heroSwiper-{{ section.id }}', {
      loop: true,
      autoplay: true
        ? {
            delay: 3000,
            disableOnInteraction: false,
          }
        : false,
      speed: 1000,
      // effect: 'fade',
      fadeEffect: {
        crossFade: true,
      },

      pagination: {
        el: '.heroSwiper-{{ section.id }} .swiper-pagination',
        clickable: true,
      },
    });

    // PC端左右导航区域点击事件
    const navAreas = document.querySelectorAll('.hero-swiper-wrapper .swiper-nav-area');
    navAreas.forEach(function(area) {
      area.addEventListener('click', function() {
        const nav = this.getAttribute('data-nav');
        if (nav === 'prev') {
          swiper.slidePrev();
        } else if (nav === 'next') {
          swiper.slideNext();
        }
      });
    });
  });
</script>

{% schema %}
{
  "name": "首页轮播Banner",
  "tag": "section",
  "class": "section hero-banner-section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "标题",
      "default": "“ Studio Precision for Strong Labels. ”"
    },
    {
      "type": "color",
      "id": "section_background_color",
      "label": "背景颜色",
      "default": "#333"
    },
    {
      "type": "url",
      "id": "shop_now_link",
      "label": "Shop Now Link"
    },
    {
      "type": "url",
      "id": "talk_to_our_team_link",
      "label": "Talk to Our Team Link"
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "轮播图片",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "图片"
        },
        {
          "type": "html",
          "id": "title",
          "label": "标题"
        },
        {
          "type": "text",
          "id": "description",
          "label": "描述"
        },
        {
          "type": "color",
          "id": "title_color",
          "label": "标题颜色",
          "default": "#fff"
        },
        {
          "type": "color",
          "id": "description_color",
          "label": "描述颜色",
          "default": "#fff"
        },
        {
          "type": "range",
          "id": "title_text_size",
          "label": "标题文字大小",
          "default": 24,
          "min": 16,
          "max": 32,
          "step": 1,
          "unit": "px"
        },
        {
          "type": "range",
          "id": "mobile_title_text_size",
          "label": "移动端标题文字大小",
          "default": 16,
          "min": 12,
          "max": 24,
          "step": 1,
          "unit": "px"
        },
        {
          "type": "range",
          "id": "description_text_size",
          "label": "描述文字大小",
          "default": 16,
          "min": 12,
          "max": 24,
          "step": 1,
          "unit": "px"
        },
        {
          "type": "range",
          "id": "mobile_description_text_size",
          "label": "移动端描述文字大小",
          "default": 12,
          "min": 10,
          "max": 20,
          "step": 1,
          "unit": "px"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "首页轮播Banner",
      "blocks": [
        {
          "type": "slide"
        },
        {
          "type": "slide"
        },
        {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}
