<style>
  .service-nav-item.active,
  .service-nav-item-mobile.active {
    background-color: #1a1a1a;
    color: #fff;
  }
</style>

<!-- Hero Section -->
<section class="service-hero relative md:bg-[#F2F2F2] overflow-hidden">
  <div class=" mx-auto ">
    <div class="flex flex-col md:flex-row items-center justify-between   gap-8">
      <!-- Left Content -->
      <div class="w-full md:w-1/2 px-[14px] mb-[20px] md:text-left order-2 md:order-1 md:px-[75px]">
        <h1 class="text-[30px] md:text-[64px]  font-Montaga leading-normal text-[#1a1a1a]">
          {{ section.settings.hero_title | default: 'Need customized services for your brand?' }}
        </h1>
        <p class="mt-4 text-[16px] md:text-[32px]  leading-none">
          {{ section.settings.hero_subtitle | default: 'Trust us to do the job well for you!' }}
        </p>
      </div>
      <!-- Right Image -->
      <div class="w-full md:w-1/2 flex justify-center md:justify-end order-1 md:order-2">
        {%- if section.settings.hero_image != blank -%}
          <div class="relative w-full  aspect-375/281 md:aspect-720/622 overflow-hidden">
            {{ section.settings.hero_image | image_url: width: 1000 | image_tag: 
              class: 'w-full h-full object-cover',
              loading: 'eager'
            }}
          </div>
        {%- else -%}
          <div class="w-full max-w-[500px] aspect-4/3 bg-[#e0e0e0] rounded-lg flex items-center justify-center">
            <svg class="w-16 h-16 text-[#999]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>
</section>

<!-- Services Section -->
<section class="service-content py-8 md:py-16 pt-0 bg-white" id="service-section-{{ section.id }}">
  <div class="max-w-[1440px] mx-auto  md:px-8 lg:px-16">
    <div class="flex flex-col lg:flex-row gap-8 md:gap-[28px]">
      
      <!-- Left Navigation (PC Only) -->
      <div class="hidden md:block  shrink-0 pr-[28px] border-r border-[#BABABA] ">
        <nav class="sticky top-[120px]">
          <div class=" ">
            <ul class="space-y-1 flex flex-col gap-[30px]">
              {%- for block in section.blocks -%}
                {%- if block.type == 'service_item' -%}
                  <li class="bg-[#F2F2F2] rounded-[5px]">
                    <a 
                      href="#service-{{ block.id }}"
                      class="service-nav-item block px-4 w-[240px] py-3 text-[14px] md:text-[20px] leading-normal transition-all duration-300 rounded-[5px]"
                      data-target="service-{{ block.id }}"
                    >
                      {{ block.settings.title | default: 'Service Title' }}
                    </a>
                  </li>
                {%- endif -%}
              {%- endfor -%}
            </ul>
          </div>
        </nav>
      </div>

      <!-- Mobile Navigation -->
      <div class="lg:hidden overflow-x-auto pb-4 px-4 max-w-full">
        <div class="flex gap-2 min-w-max max-w-full">
          {%- for block in section.blocks -%}
            {%- if block.type == 'service_item' -%}
              <a 
                href="#service-{{ block.id }}"
                class="service-nav-item-mobile text-[10px] shrink-0 px-1.5 py-1  bg-[#F2F2F2] rounded-[2px]  transition-colors duration-300 whitespace-nowrap"
                data-target="service-{{ block.id }}"
              >
                {{ block.settings.title | default: 'Service Title' }}
              </a>
            {%- endif -%}
          {%- endfor -%}
        </div>
      </div>

      <!-- Right Content -->
      <div class="flex-1 space-y-16 md:space-y-24">
        {%- for block in section.blocks -%}
          {%- if block.type == 'service_item' -%}
            <div 
              id="service-{{ block.id }}" 
              class="service-item scroll-mt-[100px]"
              {{ block.shopify_attributes }}
            >
              <div class="flex flex-col {% if block.settings.image_position == 'left' %}md:flex-row{% else %}md:flex-row-reverse{% endif %} gap-6 md:gap-12 items-start">
                
                <!-- Image -->
                <div class="w-full md:w-[280px] lg:w-[320px] shrink-0">
                  {%- if block.settings.image != blank -%}
                    <div class="aspect-375/280 md:aspect-266/397 overflow-hidden bg-[#f5f5f5]">
                      {{ block.settings.image | image_url: width: 640 | image_tag: 
                        class: 'w-full h-full object-cover',
                        loading: 'lazy'
                      }}
                    </div>
                
                  {%- endif -%}
                </div>

                <!-- Content -->
                <div class="flex-1 px-[14px]">
                  <h2 class="text-[24px] md:text-[48px]  font-Montaga  mb-[10px]">
                    {{ block.settings.title | default: 'Service Title' }}
                  </h2>
                  
                  <!-- Steps -->
                  <div class="space-y-4">
                    {%- if block.settings.step_1 != blank -%}
                      <div class="flex items-center gap-4 md:bg-[#F4F4F4] md:px-[10px] md:py-[20px] rounded-[5px] text-[12px] leading-[16px] md:text-[20px] md:leading-[24px]">
                        <span class="shrink-0 w-6 h-6 rounded-full border border-[#1a1a1a] flex items-center justify-center  ">1</span>
                        <p class="text-[12px] md:text-[20px]  pt-0.5">{{ block.settings.step_1 }}</p>
                      </div>
                    {%- endif -%}
                    {%- if block.settings.step_2 != blank -%}
                      <div class="flex items-center gap-4 md:bg-[#F4F4F4] md:px-[10px] md:py-[20px] rounded-[5px] text-xs md:text-[20px] md:leading-[24px]">
                        <span class="shrink-0 w-6 h-6 rounded-full border border-[#1a1a1a] flex items-center justify-center text-[12px] font-medium">2</span>
                        <p class="text-[12px] md:text-[20px]  pt-0.5">{{ block.settings.step_2 }}</p>
                      </div>
                    {%- endif -%}
                    {%- if block.settings.step_3 != blank -%}
                      <div class="flex items-center gap-4 md:bg-[#F4F4F4] md:px-[10px] md:py-[20px] rounded-[5px] text-xs md:text-[20px] md:leading-[24px]">
                        <span class="shrink-0 w-6 h-6 rounded-full border border-[#1a1a1a] flex items-center justify-center text-[12px] leading-[16px] md:text-[20px] md:leading-[24px]">3</span>
                        <p class="text-[12px] md:text-[20px]  pt-0.5">{{ block.settings.step_3 }}</p>
                      </div>
                    {%- endif -%}
                    {%- if block.settings.step_4 != blank -%}
                      <div class="flex items-center gap-4 md:bg-[#F4F4F4] md:px-[10px] md:py-[20px] rounded-[5px] text-xs md:text-[20px] md:leading-[24px]">
                        <span class="shrink-0 w-6 h-6 rounded-full border border-[#1a1a1a] flex items-center justify-center text-[12px] font-medium">4</span>
                        <p class="text-[12px] md:text-[20px]  pt-0.5">{{ block.settings.step_4 }}</p>
                      </div>
                    {%- endif -%}
                    {%- if block.settings.step_5 != blank -%}
                      <div class="flex items-center gap-4 md:bg-[#F4F4F4] md:px-[10px] md:py-[20px] rounded-[5px] text-xs md:text-[20px] md:leading-[24px]">
                        <span class="shrink-0 w-6 h-6 rounded-full border border-[#1a1a1a] flex items-center justify-center text-[12px] font-medium">5</span>
                        <p class="text-[12px] md:text-[20px]  pt-0.5">{{ block.settings.step_5 }}</p>
                      </div>
                    {%- endif -%}
                    {%- if block.settings.step_6 != blank -%}
                      <div class="flex items-center gap-4 md:bg-[#F4F4F4] md:px-[10px] md:py-[20px] rounded-[5px] text-xs md:text-[20px] md:leading-[24px]">
                        <span class="shrink-0 w-6 h-6 rounded-full border border-[#1a1a1a] flex items-center justify-center text-[12px] font-medium">6</span>
                        <p class="text-[12px] md:text-[20px]  pt-0.5">{{ block.settings.step_6 }}</p>
                      </div>
                    {%- endif -%}
                    {%- if block.settings.step_7 != blank -%}
                      <div class="flex items-center gap-4 md:bg-[#F4F4F4] md:px-[10px] md:py-[20px] rounded-[5px] text-xs md:text-[20px] md:leading-[24px]">
                        <span class="shrink-0 w-6 h-6 rounded-full border border-[#1a1a1a] flex items-center justify-center text-[12px] font-medium">7</span>
                        <p class="text-[12px] md:text-[20px]  pt-0.5">{{ block.settings.step_7 }}</p>
                      </div>
                    {%- endif -%}
                    {%- if block.settings.step_8 != blank -%}
                      <div class="flex items-center gap-4 md:bg-[#F4F4F4] md:px-[10px] md:py-[20px] rounded-[5px] text-xs md:text-[20px] md:leading-[24px]">
                        <span class="shrink-0 w-6 h-6 rounded-full border border-[#1a1a1a] flex items-center justify-center text-[12px] font-medium">8</span>
                        <p class="text-[12px] md:text-[20px]  pt-0.5">{{ block.settings.step_8 }}</p>
                      </div>
                    {%- endif -%}
                    {%- if block.settings.step_9 != blank -%}
                      <div class="flex items-center gap-4 md:bg-[#F4F4F4] md:px-[10px] md:py-[20px] rounded-[5px] text-xs md:text-[20px] md:leading-[24px]">
                        <span class="shrink-0 w-6 h-6 rounded-full border border-[#1a1a1a] flex items-center justify-center text-[12px] font-medium">9</span>
                        <p class="text-[12px] md:text-[20px]  pt-0.5">{{ block.settings.step_9 }}</p>
                      </div>
                    {%- endif -%}
                    {%- if block.settings.step_10 != blank -%}
                      <div class="flex items-center gap-4 md:bg-[#F4F4F4] md:px-[10px] md:py-[20px] rounded-[5px] text-xs md:text-[20px] md:leading-[24px]">
                        <span class="shrink-0 w-6 h-6 rounded-full border border-[#1a1a1a] flex items-center justify-center text-[12px] font-medium">10</span>
                        <p class="text-[12px] md:text-[20px]  pt-0.5">{{ block.settings.step_10 }}</p>
                      </div>
                    {%- endif -%}
                  </div>
                </div>
              </div>
            </div>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="service-cta relative overflow-hidden">
  <div class="relative px-[14px] md:px-0 flex items-center justify-center">
    <!-- Background Image -->
    {%- if section.settings.cta_background_image != blank -%}
      <div class="w-full aspect-346/500  md:aspect-1334/700">
        {{ section.settings.cta_background_image | image_url: width: 1920 | image_tag: 
          class: 'w-full h-full object-cover',
          loading: 'lazy'
        }}
        <div class="absolute inset-0 bg-black/40"></div>
      </div>
    {%- else -%}
      <div class="absolute inset-0 z-0 bg-linear-to-r from-[#2a2a2a] to-[#4a4a4a]"></div>
    {%- endif -%}
    
    <!-- Content -->
    <div class="absolute z-10 bottom-0 md:bottom-1/2 md:translate-y-1/2 text-center text-white px-4 py-12 md:py-16">
      <h2 class="text-[40px] md:text-[80px]  font-Montaga mb-1 md:mb-4">
        {{ section.settings.cta_title | default: 'CONTACT US NOW' }}
      </h2>
      <p class="text-[18px] md:text-[32px] mb-10 md:mb-[50px] px-[14px]">
        {{ section.settings.cta_subtitle | default: 'Launch exclusive customized services' }}
      </p>
      {%- if section.settings.cta_button_text != blank -%}
        <a 
          href="{{ section.settings.cta_button_link | default: '#' }}"
          class="inline-block px-8 py-3   text-white bg-black text-[14px] leading-[16px] md:text-[20px] md:leading-[24px] font-medium hover:bg-white hover:text-[#1a1a1a] transition-all duration-300 rounded-sm"
        >
          {{ section.settings.cta_button_text }}
        </a>
      {%- endif -%}
    </div>
  </div>
</section>

<!-- JavaScript for smooth scrolling and active state -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const sectionId = '{{ section.id }}';
    const navItems = document.querySelectorAll(`#service-section-${sectionId} .service-nav-item, #service-section-${sectionId} .service-nav-item-mobile`);
    const serviceItems = document.querySelectorAll(`#service-section-${sectionId} .service-item`);
    
    // Smooth scroll on click
    navItems.forEach(item => {
      item.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('data-target');
        const targetElement = document.getElementById(targetId);
        
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Update active state on scroll
    function updateActiveNav() {
      const scrollPosition = window.scrollY + 150;
      
      serviceItems.forEach(item => {
        const itemTop = item.offsetTop;
        const itemBottom = itemTop + item.offsetHeight;
        const itemId = item.getAttribute('id');
        
        if (scrollPosition >= itemTop && scrollPosition < itemBottom) {
          navItems.forEach(nav => {
            const navTarget = nav.getAttribute('data-target');
            nav.classList.toggle('active', navTarget === itemId);
          });
        }
      });
    }

    // Initial check
    updateActiveNav();
    
    // Update on scroll
    window.addEventListener('scroll', updateActiveNav, { passive: true });
  });
</script>

{% schema %}
{
  "name": "Service",
  "tag": "section",
  "class": "section-service",
  "settings": [
    {
      "type": "header",
      "content": "Hero Section"
    },
    {
      "type": "text",
      "id": "hero_title",
      "label": "Hero Title",
      "default": "Need customized services for your brand?"
    },
    {
      "type": "text",
      "id": "hero_subtitle",
      "label": "Hero Subtitle",
      "default": "Trust us to do the job well for you!"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero Image"
    },
    {
      "type": "header",
      "content": "CTA Section"
    },
    {
      "type": "text",
      "id": "cta_title",
      "label": "CTA Title",
      "default": "CONTACT US NOW"
    },
    {
      "type": "text",
      "id": "cta_subtitle",
      "label": "CTA Subtitle",
      "default": "Launch exclusive customized services"
    },
    {
      "type": "image_picker",
      "id": "cta_background_image",
      "label": "CTA Background Image"
    },
    {
      "type": "text",
      "id": "cta_button_text",
      "label": "CTA Button Text",
      "default": "LEARN MORE"
    },
    {
      "type": "url",
      "id": "cta_button_link",
      "label": "CTA Button Link"
    }
  ],
  "blocks": [
    {
      "type": "service_item",
      "name": "Service Item",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Service Title"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "select",
          "id": "image_position",
          "label": "Image Position",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "left"
        },
        {
          "type": "header",
          "content": "Steps"
        },
        {
          "type": "textarea",
          "id": "step_1",
          "label": "Step 1",
          "default": "Please contact our customer service team first and let them know the style you need."
        },
        {
          "type": "textarea",
          "id": "step_2",
          "label": "Step 2",
          "default": "Let us know the quantity you need and wait for our quote."
        },
        {
          "type": "textarea",
          "id": "step_3",
          "label": "Step 3",
          "default": "Let us know the quantity you need and wait for our quote."
        },
        {
          "type": "textarea",
          "id": "step_4",
          "label": "Step 4"
        },
        {
          "type": "textarea",
          "id": "step_5",
          "label": "Step 5"
        },
        {
          "type": "textarea",
          "id": "step_6",
          "label": "Step 6"
        },
        {
          "type": "textarea",
          "id": "step_7",
          "label": "Step 7"
        },
        {
          "type": "textarea",
          "id": "step_8",
          "label": "Step 8"
        },
        {
          "type": "textarea",
          "id": "step_9",
          "label": "Step 9"
        },
        {
          "type": "textarea",
          "id": "step_10",
          "label": "Step 10"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Service",
      "blocks": [
        {
          "type": "service_item",
          "settings": {
            "title": "Blank Plain Wholesale",
            "image_position": "left",
            "step_1": "Please contact our customer service team first and let them know the style you need.",
            "step_2": "Let us know the quantity you need and wait for our quote.",
            "step_3": "Let us know the quantity you need and wait for our quote.",
            "step_4": "Let us know the quantity you need and wait for our quote.",
            "step_5": "Let us know the quantity you need and wait for our quote."
          }
        },
        {
          "type": "service_item",
          "settings": {
            "title": "Custom Logo Printing",
            "image_position": "right",
            "step_1": "Please contact our customer service team first and let them know the style you need.",
            "step_2": "Let us know the quantity you need and wait for our quote.",
            "step_3": "Let us know the quantity you need and wait for our quote."
          }
        },
        {
          "type": "service_item",
          "settings": {
            "title": "Design Clothing for Startups",
            "image_position": "left",
            "step_1": "Please contact our customer service team first and let them know the style you need.",
            "step_2": "Let us know the quantity you need and wait for our quote.",
            "step_3": "Let us know the quantity you need and wait for our quote.",
            "step_4": "Let us know the quantity you need and wait for our quote.",
            "step_5": "Let us know the quantity you need and wait for our quote."
          }
        },
        {
          "type": "service_item",
          "settings": {
            "title": "Replace Your Brand Labels",
            "image_position": "right",
            "step_1": "Please contact our customer service team first and let them know the style you need.",
            "step_2": "Let us know the quantity you need and wait for our quote.",
            "step_3": "Let us know the quantity you need and wait for our quote.",
            "step_4": "Please contact our customer service team first and let them know the style you need."
          }
        }
      ]
    }
  ]
}
{% endschema %}
